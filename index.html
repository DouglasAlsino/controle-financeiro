<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Controle Financeiro - Prot√≥tipo</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header>
  <div>
    <h1>Controle Financeiro</h1>
    <div class="subtitle">Prot√≥tipo ‚Äî Sprint 1</div>
  </div>
  <div class="muted">Usu√°rio: Voc√™</div>
</header>

<main class="container">
  <section class="card">
    <h3>Nova Transa√ß√£o</h3>
    <form id="tx-form" autocomplete="off">
      <div class="row">
        <div style="flex:1">
          <label for="date">Data</label>
          <input id="date" type="date" required>
        </div>
        <div style="width:120px">
          <label for="type">Tipo</label>
          <select id="type" required>
            <option value="income">Receita</option>
            <option value="expense">Despesa</option>
          </select>
        </div>
      </div>

      <div>
        <label for="desc">Descri√ß√£o</label>
        <input id="desc" type="text" placeholder="Ex: Sal√°rio, Supermercado" required maxlength="80">
      </div>

      <div class="row" style="margin-top:8px">
        <div style="flex:1">
          <label for="category">Categoria</label>
          <input id="category" type="text" placeholder="Ex: Renda, Alimenta√ß√£o" required maxlength="32">
        </div>
        <div style="width:160px">
          <label for="value">Valor (R$)</label>
          <input id="value" type="number" step="0.01" min="0" placeholder="0.00" required>
        </div>
      </div>

      <div style="display:flex; gap:8px; margin-top:12px; align-items:center">
        <button class="btn btn-primary" type="submit">Adicionar</button>
        <button id="clear-btn" type="button" class="btn btn-ghost">Limpar</button>
        <div style="flex:1"></div>
        <div class="muted" id="form-msg" aria-live="polite"></div>
      </div>
    </form>

    <hr style="margin:16px 0; border:none; border-top:1px solid #eef2f6">

    <div class="totals">
      <div class="total-box" style="color: #2e7d32;">
        <h4>üí∞ Receitas</h4>
        <p id="total-income">R$ 0,00</p>
      </div>
      <div class="total-box" style="color: #c62828;">
        <h4>üí∏ Despesas</h4>
        <p id="total-expense">R$ 0,00</p>
      </div>
      <div class="total-box" style="color: #1565c0;">
        <h4>‚öñÔ∏è Saldo</h4>
        <p id="total-balance">R$ 0,00</p>
      </div>
    </div>
  </section>

  <!-- FILTROS DE PER√çODO -->
<section class="card" id="filters-section" style="grid-column: 1 / -1;">
  <h3>Filtrar por Per√≠odo</h3>
  
  <div class="filters-container">
    <div class="filter-item">
      <label for="filter-month">M√™s:</label>
      <select id="filter-month">
        <option value="">Todos</option>
        <option value="1">Janeiro</option>
        <option value="2">Fevereiro</option>
        <option value="3">Mar√ßo</option>
        <option value="4">Abril</option>
        <option value="5">Maio</option>
        <option value="6">Junho</option>
        <option value="7">Julho</option>
        <option value="8">Agosto</option>
        <option value="9">Setembro</option>
        <option value="10">Outubro</option>
        <option value="11">Novembro</option>
        <option value="12">Dezembro</option>
      </select>
    </div>

    <div class="filter-item">
      <label for="filter-year">Ano:</label>
      <select id="filter-year">
        <option value="">Todos</option>
      </select>
    </div>

    <button id="clear-filters" class="btn">Limpar Filtros</button>
  </div>
</section>

  <section class="card">
    <h3>Transa√ß√µes</h3>
    <div class="muted" style="font-size:13px; margin-bottom:10px">Lista de transa√ß√µes recentes</div>

    <div id="transactions" class="transactions-list" aria-live="polite"></div>

    <div style="margin-top:12px; display:flex; gap:8px; align-items:center">
      <button id="export-json" class="btn btn-ghost">Exportar JSON</button>
      <button id="import-json" class="btn btn-ghost">Importar JSON</button>
      <input id="import-file" type="file" accept="application/json" style="display:none">
      <div style="flex:1"></div>
      <button id="clear-all" class="btn" style="background:#fff; border:1px solid #f1f3f6">Limpar tudo</button>

    </div>
  </section>

    <!-- Se√ß√£o de Gr√°ficos -->
  <section class="card" id="charts-section" style="grid-column:1 / -1;">
    <h3 style="margin:0 0 8px 0">Gr√°ficos</h3>
    <div style="display:flex; flex-wrap:wrap; gap:20px; align-items:flex-start;">
      <div style="flex:1 1 420px; min-width:300px;">
        <canvas id="chart-months" width="400" height="220"></canvas>
      </div>
      <div style="flex:1 1 320px; min-width:300px;">
        <canvas id="chart-categories" width="400" height="220"></canvas>
      </div>
    </div>
  </section>

</main>

<footer>
  Prot√≥tipo criado para a Sprint 1 ‚Äî Implementa√ß√£o inicial do fluxo de transa√ß√µes.
</footer>
    
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script src="js/script.js" defer></script>
</body>
</html>